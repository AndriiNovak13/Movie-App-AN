(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(56)},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(6),i=a.n(o),r=(a(27),a(3)),s=a(21);a(34);var l=function(e){var t=e.setMovieSearch,a=e.setIdGeneresCategory,n=e.genresId,o=c.a.useState(""),i=Object(s.a)(o,2),r=i[0],l=i[1];return c.a.createElement("div",{className:"search"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Movie App"),c.a.createElement("div",{className:"search__inner"},c.a.createElement("input",{type:"text",className:"search__input",placeholder:"Enter a movie title . . .",value:r,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&r&&(t(r),l(""),null!==n&&a(null))}}))))};a(35),a(36);var u=function(e){var t=e.item,a=e.setIdGeneresCategory,n=e.id,o=e.genresId,i=e.getFetchMoviesMainId;return c.a.createElement("li",{onClick:function(){a(n),i(n)},className:o===n?"active":""},t.name)};var m=function(e){var t=e.category,a=e.isLoadedFilter,n=e.setIdGeneresCategory,o=e.genresId,i=e.getFetchMoviesMainId;return c.a.createElement("div",{className:"filters"},c.a.createElement("ul",{className:"filters__category"},c.a.createElement("li",{onClick:function(){n(null),i(null)},className:null===o?"active":""},"MAIN"),a?t&&t.map((function(e){return c.a.createElement(u,{key:e.id,item:e,setIdGeneresCategory:n,id:e.id,genresId:o,getFetchMoviesMainId:i})})):c.a.createElement("h5",null,"Loading ...")))};a(37);var d=function(e){var t=e.item,a=e.setFetchMovie,n=e.idMovie;return c.a.createElement("div",{className:"movies__item",onClick:function(){a(n)}},c.a.createElement("div",{className:"movies__item-img"},t.poster_path&&c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:"photo"})),c.a.createElement("div",{className:"movies__item-title"},t.title))};var v=function(e){var t=e.movies,a=e.isLoaded,n=e.setFetchMovie;return c.a.createElement("div",{className:"movies"},c.a.createElement("div",{className:"movies__box"},a?t.length>0?t.map((function(e){return c.a.createElement(d,{key:e.id,item:e,setFetchMovie:n,idMovie:e.id})})):c.a.createElement("h2",null,"Not found"):c.a.createElement("h2",null,"Loading ...")))};var p=function(e){var t=e.movies,a=e.isLoaded,n=e.category,o=e.isLoadedFilter,i=e.setIdGeneresCategory,r=e.setFetchMovie,s=e.genresId,l=e.getFetchMoviesMainId;return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"main__box"},c.a.createElement(m,{category:n,isLoadedFilter:o,setIdGeneresCategory:i,genresId:s,getFetchMoviesMainId:l}),c.a.createElement(v,{movies:t,isLoaded:a,setFetchMovie:r}))))};a(38);var g=function(e){var t=e.movie,a=e.closePopupNow;return c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"popup__inner"},c.a.createElement("div",{className:"popup__title"},t.title,c.a.createElement("span",null,"(",t.release_date,")"),c.a.createElement("p",null,"Rating: ",t.vote_average)),c.a.createElement("div",{className:"popup__box"},c.a.createElement("div",{className:"popup__photo"},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:"photoPopup"})),c.a.createElement("div",{className:"popup__desc"},t.overview)),c.a.createElement("button",{onClick:function(){return a()}},"Close"))))},f="GET_MOVIES",E="GET_CATEGORY",_="GET_MOVIE",h="GET_ID_CATEGORY",y="CLOSE_POPUP",O="SET_LOADED",b="SET_LOADED_FILTER",N=a(5),I=a.n(N),M="https://api.themoviedb.org/3/",j="api_key=1758775020531967fa47acbcea8cf470",L=function(e){return{type:O,payload:e}},F=function(e){return function(t){t(L(!1)),I.a.get("".concat(M,"discover/movie?").concat(j,"&language=en-US&sort_by=popularity.desc&page=1").concat(null!==e?"&with_genres=".concat(e):"")).then((function(e){var a=e.data;t(S(a.results))})).catch((function(e){console.log(404)}))}},C=function(){return function(e){e({type:b,payload:!1}),I.a.get("".concat(M,"genre/movie/list?").concat(j,"&language=en-US")).then((function(t){var a=t.data;e(P(a.genres))})).catch((function(e){console.log(404)}))}},S=function(e){return{type:f,payload:e}},G=function(e){return{type:_,payload:e}},P=function(e){return{type:E,payload:e}};var w=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.movies})).movies,a=Object(r.c)((function(e){return e.movies.category})),n=Object(r.c)((function(e){return e.movies.isLoaded})),o=Object(r.c)((function(e){return e.movies.isLoadedFilter})),i=Object(r.c)((function(e){return e.movies.genres})),s=Object(r.c)((function(e){return e.movies.movie})),u=Object(r.c)((function(e){return e.movies.isPopup}));c.a.useEffect((function(){e(C()),e(F(i))}),[]);var m=function(t){e(function(e){return{type:h,payload:e}}(t))};return c.a.createElement("div",{className:"App"},c.a.createElement(l,{setMovieSearch:function(t){e(function(e){return function(t){t(L(!1)),I.a.get("".concat(M,"search/movie?").concat(j,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){var a=e.data;t(S(a.results))})).catch((function(e){console.log(404)}))}}(t))},setIdGeneresCategory:m,genresId:i}),c.a.createElement(p,{movies:t,isLoaded:n,setFetchMovie:function(t){e(function(e){return function(t){I.a.get("".concat(M,"movie/").concat(e,"?").concat(j,"&language=en-US")).then((function(e){var a=e.data;t(G(a))})).catch((function(e){console.log(404)}))}}(t))},category:a,isLoadedFilter:o,setIdGeneresCategory:m,genresId:i,getFetchMoviesMainId:function(t){e(F(t))}}),u&&c.a.createElement(g,{movie:s,closePopupNow:function(){e({type:y})}}))},T=a(4),k=a(20),A=a(1),D={movies:[],category:[],movie:{},isLoaded:!1,isLoadedFilter:!1,genres:null,isPopup:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(A.a)(Object(A.a)({},e),{},{movies:t.payload,isLoaded:!0});case E:return Object(A.a)(Object(A.a)({},e),{},{category:t.payload,isLoadedFilter:!0});case _:return Object(A.a)(Object(A.a)({},e),{},{movie:t.payload,isPopup:!0});case O:return Object(A.a)(Object(A.a)({},e),{},{isLoaded:t.payload});case b:return Object(A.a)(Object(A.a)({},e),{},{isLoadedFilter:t.payload});case h:return Object(A.a)(Object(A.a)({},e),{},{genres:t.payload});case y:return Object(A.a)(Object(A.a)({},e),{},{isPopup:!1,movie:{}});default:return e}},x=Object(T.c)({movies:U}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,V=Object(T.e)(x,R(Object(T.a)(k.a)));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(r.a,{store:V},c.a.createElement(w,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a6acbb1c.chunk.js.map